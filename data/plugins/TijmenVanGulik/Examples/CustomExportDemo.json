{"id":"tijmenvangulik.examples.custom.export","name":"Examples custom export","description":"Demo how to write a custom cxport","version":"1.0","author":"Tijmen van Gulik","url":"https://tijmenvangulik.github.io/Ergometerspace/data/plugins/TijmenVanGulik/Examples/CustomExportDemo.json","script":"var tijmenvangulik_examples_export_demo;\r\n(function (tijmenvangulik_examples_export_demo) {\r\n    class ExamplePlugin extends ExternalPlugin {\r\n        doExport(exportItem) {\r\n            var data = `<xml>\n   <value>${exportItem.timeStampDate.toISOString()}</value>\n</xml>\n`;\r\n            return data;\r\n        }\r\n        init() {\r\n            pm3.log.registerCustomExport(this, \"Demo export\", \"demo.xml\", \"application/xml\", this.doExport.bind(this));\r\n        }\r\n        remove() {\r\n            pm3.log.deRegisterCustomExport(this.doExport);\r\n        }\r\n    }\r\n    var plugin;\r\n    plugin = new ExamplePlugin();\r\n})(tijmenvangulik_examples_export_demo || (tijmenvangulik_examples_export_demo = {}));\r\n","styles":"","typeScript":"module tijmenvangulik_examples_export_demo { //make a name space to prevent mix ups\n\n\n    class ExamplePlugin extends ExternalPlugin {\n        private _oldExport  : any;\n\n        public  doExport(exportItem : pm3.WorkoutLogItem) : string {\n            \n            var data= `<xml>\n   <value>${exportItem.timeStampDate.toISOString()}</value>\n</xml>\n`\n            return data;\n        }\n        public init() {\n            pm3.log.registerCustomExport(this,\"Demo export\",\"demo.xml\",\"application/xml\",this.doExport.bind(this));       \n        }\n        public remove() {\n            pm3.log.deRegisterCustomExport(this.doExport);\n        }               \n    }\n\n    var plugin : ExamplePlugin;\n    plugin = new ExamplePlugin();\n    \n}","html":""}